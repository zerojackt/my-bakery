<!doctype html>
<html 
    xmlns="http://www.w3.org/1999/xhtml" 
    xmlns:th="http://www.thymeleaf.org" 
    xmlns:sec="http://www.thymeleaf.org/thymeleaf-extras-springsecurity3"
    xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout">

<head>
    <!-- Required meta tags -->
   <th:block th:include="/include/head"></th:block>
   
</head>

<body>
  
    <!--::header part start::-->
    <header class="main_menu">
        <th:block th:include="/include/header"></th:block>
    </header>
    <!-- Header part end-->

    <!-- banner part start-->
    <section class="banner_part">
        <div class="container">
            <div class="row align-items-center">
                <div class="col-lg-6">
                    <div class="banner_text">
                        <div class="banner_text_iner">
                            <h5>Question and Answer</h5>
                            <h1>Q and A</h1>
                            <p></p>
                    
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
    <!-- banner part start-->

    <!--::exclusive_item_part start::-->
    <section class="exclusive_item_part blog_item_section" >
        <div class="container">
            <a href="/questions/high" class="genric-btn primary">자주하는 질문</a>
            <a th:if="${session.sessionUser != null}" href="/questions/form" class="genric-btn primary">질문하기</a>
             <a th:href="@{/questions/delete/{id}(id=${question.id})}" class="genric-btn primary">질문삭제</a>
              <a th:href="@{/questions/edtited/{id}/form(id=${question.id})}"  class="genric-btn primary">질문수정</a>
            <a href="/questions" class="genric-btn primary">질문보기</a>
             
      </div>
       
       <hr>
       
       <div class="container">
       <br>
       <h4>질문</h4>
       <br> 
         
         
           	<div class="section-top-border">
				<h3>제목 : <span class="mb-30" th:utext="${question.title}"></span></h3>
				<div class="row">
					<div class="col-md-3">
						작성자 : <span th:text="${question.writer.username}"></span>
					</div>
					<hr>
					<div class="col-md-9 mt-sm-20">
						<p th:text="${question.contents}"></p>
					</div>
				</div>
			</div>

			
        </div>
        
        <hr>
        
       <div class="container">
       <br>
       <h4>답변 등록하기</h4>
       <br> 
       

       
					<form th:action="@{/questions/{id}/answers(id=${question.id})}" method="post">
						
						
							
							

							<div class="mt-10">
								<textarea class="single-textarea" name="contents" placeholder="내용" onfocus="this.placeholder = ''" onblur="this.placeholder = 'Message'"
								 required></textarea>
							</div>
							
							
							<div class="mt-10">
								<input type="submit" value="답변 등록" required class="single-input-secondary">
							</div>
						</form>
			
			
        </div>
        
     
     <div class="container">
       <br>
       <h4>답변</h4>
       <br> 
       
       <ul>
       
           <li th:each="answer : ${question.answers}" class="border" style="padding-left: 15px;">
                    
                   <p style="text-align: right;">
			          <a th:href="@{/questions/{questionId}/answers/{id}/delete(questionId=${question.id},id=${answer.id})}" class="btn btn-outline-danger btn-sm">답변삭제</a>
			          <a th:href="@{/questions/{questionId}/answers/{id}/update/form(questionId=${question.id},id=${answer.id})}"   class="btn btn-outline-danger btn-sm">답변수정</a>
			       
			       </p>
					               
				<p> 작성자 : <span th:text="${answer.writer.username}" class="sm-size"></span></p> 
				 <hr>
				<p><span th:text="${answer.contents}" class="sm-size"></span></p>
				
				
					                                
					             
				<hr>	                    
			</li>       
       
       </ul>
         
  

			
        </div>
        
    </section>
    <br>
    <br>
    <!--::exclusive_item_part end::-->

    

    
    
   
  

   
   <!-- footer part start-->
    <footer class="footer-area">
       <th:block th:include="/include/footer"></th:block>
    </footer>
   <!-- footer part end-->
   
    <th:block th:include="/include/script"></th:block>

</body>

</html>